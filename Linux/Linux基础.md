# 概述

Linux 是一款操作系统，免费，开源， 安全，高效，稳定， 处理高并发非常强悍，现在很多的企业级的项目都部署到 Linux/unix 服务器运行。

## Unix 是怎么来的

Unix的起源可以追溯到1960年代末和1970年代初的贝尔实验室（Bell Labs），当时由肯·汤普逊（Ken Thompson）、邓恩·懋耀（Dennis Ritchie）和布莱恩·克尼汉（Brian Kernighan）等人共同开发。当时，他们正致力于开发一个方便且高效的操作系统，以支持贝尔实验室的研究工作。

最初，他们开发了一个名为Multics（Multiplexed Information and Computing Service）的多用户、多任务操作系统。然而，由于Multics在实际应用中存在一些问题，并且成本昂贵，因此贝尔实验室最终决定退出Multics项目。

于是，肯·汤普逊和丹尼斯·里奇继续他们的工作，尝试以更简单和高效的方式重新构建一个操作系统。他们使用汇编语言和C语言编写了一些系统工具和库，并基于这些工具和库构建了一个新的操作系统，他们将其命名为Unix。

Unix最初是在PDP-7上开发的，后来也移植到了其他硬件平台上。它的**开源**特性使得Unix逐渐受到其他机构的关注和采用，包括其他大学、政府机构和企业。

**Unix提供了许多创新的概念和功能，如单一根目录树、管道、Shell脚本、标准输入输出和多用户支持等。** 这些概念和功能对后来的操作系统设计和发展产生了深远的影响。

后来，许多公司和组织基于Unix开发了自己的操作系统，如IBM的AIX、HP的HP-UX和Sun的Solaris等。此外，由于Unix的开源性质，许多类Unix操作系统也诞生，如Linux和FreeBSD等。

总的来说，Unix是由肯·汤普逊和丹尼斯·里奇等人在贝尔实验室开发的一个操作系统，他们的工作为后来操作系统设计和发展奠定了基础。

## Linux和Unix的关系

Linux 和 Unix 有密切的关联和关系。

Linux 是一个开源的操作系统内核。它最初是由芬兰的程序员 Linus Torvalds 在 1991 年创建的，后来得到了全球开发者的贡献和支持。Linux 内核是 Linux 操作系统的核心部分，它负责管理计算机硬件和软件资源。然而，单独的 Linux 内核并不足以构建一个完整的操作系统。

Unix 是一个类 Unix 操作系统家族的总称，是 1969 年由贝尔实验室研发的。它被设计为一个多用户、多任务的操作系统，具有稳定性和安全性。Unix 操作系统在学术界和商业界都有广泛应用，并且被其他操作系统广泛借鉴和模仿。

Linux 在其设计上受到了 Unix 的启发，并借鉴了 Unix 的一些核心概念和设计原则，如文件系统层次结构、权限管理、进程管理等。因此，Linux 和 Unix 之间存在许多相似之处，菜单划的命令也基本一致，大部分Unix操作中经典的命令在Linux下也有。这使得 Unix 系统的用户很容易转换到 Linux 系统中。

此外，由于 Unix 操作系统对代码的开放性，使得 Linux 操作系统中的代码也可以被重新编写，进一步推动了 Linux 和 Unix 的发展和交流。

因此，尽管 Linux 是一个独立的操作系统，但它和 Unix 有密切的关联和关系。

## Linux和Windows比较

Linux和Windows是两种不同的操作系统，它们在很多方面有所不同。

1. 开源性：Linux是开源操作系统，用户可以自由地查看、修改和分发其源码。而Windows是闭源的，无法查看和修改其源码。

2. 可定制性：由于开源性，Linux允许用户根据自己的需求对系统进行自定义和调整。用户可以选择不同的Linux发行版，并根据需要添加或删除软件包。Windows的定制性相对较低。

3. 安全性：由于Linux的开放性和开源性，其安全性相对较高。许多安全专家和网络管理员认为Linux比Windows更安全，不容易受到恶意软件的攻击。Windows则因其市场份额较大，成为攻击者攻击的主要目标。

4. 文件系统：Linux使用了一种称为“ext”的文件系统，而Windows使用了NTFS或FAT文件系统。这些文件系统具有一些不同的特性和优缺点。

5. 软件支持：由于Windows在桌面和商业市场上的占有率较大，它拥有更多的软件和游戏支持，包括大多数商业和专有软件。Linux的软件支持相对较少，但已经有越来越多的开源和免费软件开发者支持Linux平台。

6. 用户界面：Windows有传统的图形用户界面（GUI），比较容易上手。Linux则提供多种不同的用户界面选择，包括传统的桌面环境（如GNOME和KDE）以及更轻量级的界面（如Xfce和LXDE）。

7. 成本：Linux是自由和开源的操作系统，用户可以免费下载、安装和使用。而Windows是商业软件，用户需要购买许可证才能合法地使用。

总的来说，Linux和Windows各有其优势和适用场景。Linux适合技术人员和开发者，提供了更好的可定制性和安全性；Windows适合普通用户和商业用户，提供了更多的软件和游戏支持。选择哪个操作系统取决于用户的需求和个人偏好。

# Linux 的目录结构

linux 的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录`/`，然后在此目录下再创建其他的目录。

![](file:///C:/Users/Jun/AppData/Local/Temp/msohtmlclip1/01/clip_image002.jpg)

  
记住一句经典的话：**在 Linux 世界里，一切皆文件**

## 目录结构的具体介绍

`/bin` (/user/bin、/user//local/bin)
- 是Binary的缩写，这个目录存放着最经常使用的命令

`/sbin` (/usr/sbin、/user/local/sbin)
- s是指Super User的意思，这里存放的是系统管理员使用的系统管理程序

`/home`
- 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的

`/root`
- 该目录为系统管理员，也称作超级权限者的用户主目录

`/boot`
- 存放的是启动Linux时使用的一些核心文件，包括一些连接文件及镜像文件

`/proc`
- 这个目录是一个虚拟的目录，他是系统内存的映射，访问这个目录来获取系统信息

`/srv`
- service缩写，该目录存放一些服务启动之后需要提取的数据

`/sys`
- 这是Linux2.6内核的一个很大的变化，该目录下安装了2.6内核中新出现的一些文件系统

`/tmp`
- 这个目录是用来存放一些临时文件的

`/dev`
- 类似于WIndows的设备管理器，把所有的硬件用文件的形式存储

`/medie`
- Linux系统会自动设别一些设备，例如U盘、光驱等等，当识别后，Linux会把识别的设备挂载到这个目录下

`/mnt`
- 系统提供该目录是为了让用户临时挂载别的文件系统，我们将外部的存储挂载在`/mnt`上。然后进入该目录就可以查看里面的内容

`/opt`
- 这是给主机额外安装软件所摆放的目录。如安装Oracle数据库就可以放到该目录下。默认为空

`/usr/local`
- 这是另一个给主机额外安装软件的安装目录，一般是通过编译源码方式的程序

`/var`
- 这个目录中存放着不断扩充着的东西，习惯将经常被修改的目录放在这个目录下。包括各种日志文件

`/selinux` `security-enhanced linux`
- SElinux是一种安全子系统，它能控制程序只能访问特定文件。

**总结**

- Linux 的目录中有且只要一个根目录` /`
- Linux 的各个目录存放的内容是规划好，不用乱放文件。
- Linux 是以文件的形式管理我们的设备，因此 Linux 系统，一切皆为文件。

# Vi 和 Vim 编辑器

## 基本介绍

所有的 Linux 系统都会**内建 Vi 文本编辑器。**

Vim 具有程序编辑的能力，可以看做是 **Vi 的增强版本** ，可以主动的以字体颜色辨别语法的正确性，方便程序设计。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。

## Vi 和 Vim 的三种常见模式

### 正常模式

在正常模式下，我们可以使用快捷键。

以 vim 打开一个档案就直接进入正常模式了(这是默认的模式)。在这个模式中， 可以使用『上下左右』按键来移动光标，可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、贴上』来处理你的文件数据。

### 插入模式/编辑模式

在插入模式下，程序员可以输入内容。

按下 i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式,  一般来说按 i 即可

### 命令行模式

在这个模式当中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动作则是在此模式中达成的

### Vi 和 Vim 三种模式的相互转化图
![](attachment/Pasted%20image%2020230912110247.png)
## 快捷键的使用案例

拷贝当前行   `yy`
- 正常模式下拷贝当前行向下的 5 行  `5yy`，并粘贴`p`。

删除当前行  `dd`。 
- 正常模式下删除当前行向下的 5 行 `5dd`

在文件中查找某个单词。
- 命令行模式下 `/关键字` 回车查找 ，输入 n 就是查找下一个

设置文件的行号，取消文件的行号。
- 命令行下：`set nu`和 `set nonu`

撤销操作
- 在一个文件中输入 `hello` ，然后又撤销这个动作，再正常模式下输入 `u`

快速定位
- 编辑 /etc/profile 文件，使用快捷键到底文档的最末行`G`和最首行`gg`，注意这些都是在正常模式下执行的。
- 编辑  /etc/profile 文件，并将光标移动到 第 20 行 `shift+g`
- 第一步：显示行号 `:set nu`，第二步：输入 20 这个数，第三步: 输入 `shift+g`

## Vim 和 Vi 的快捷键键盘一览图
![](attachment/Pasted%20image%2020230912114101.png)

# 开机、重启和用户登录注销

## 关机&重启命令

**shutdown**

参数
shutdown -h now : 表示立即关机
shutdown -h 1 : 表示 1 分钟后关机
shutdown -r now:  立即重启

**halt**
就是直接使用，效果等价于关机

**reboot**
重启系统。

**syn**
把内存的数据同步到磁盘

**注意细节**

当我们关机或者重启时，都应该先执行以下 sync 指令，把内存的数据写入磁盘，防止数据丢失。

## 用户登录和注销

登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利用普通用户登录，登录后再用`su 用户名`命令来切换成系统管理员身份.

在提示符下输入 `logout` 即可注销用户

**使用细节**

- logout 注销指令在图形运行级别无效，在 运行级别 3 下有效

# 用户管理

![](attachment/Pasted%20image%2020230912114921.png)
说明
- Linux 系统是一个多用户多任务的操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统。
- Linux 的用户需要至少要属于一个组。
## 添加用户

**基本语法**

```txt
useradd  [选项] 用户名
```

**演示**
添加一个用户 xm
![](attachment/Pasted%20image%2020230912115342.png)

特别说明：
cd    表示 change directory, 切换目录.

**细节说明**
- 当创建用户成功后，会自动的创建和用户同名的家目录
- 也可以通过 `useradd -d 指定目录 新的用户名`，给新创建的用户指定家目录
![](attachment/Pasted%20image%2020230912115455.png)

## 给用户指定或者修改密码

**基本语法**
```
passwd 用户名
```

**演示**
给 xiaoming 指定密码
![](attachment/Pasted%20image%2020230912115643.png)

## 删除用户

**基本语法**
```
userdel  用户名
```

**演示**

- 删除用户 xm，但是要保留家目录
![](file:///C:/Users/Jun/AppData/Local/Temp/msohtmlclip1/01/clip_image003.jpg)

  
- 删除用户 xh 以及用户主目录
![](file:///C:/Users/Jun/AppData/Local/Temp/msohtmlclip1/01/clip_image004.jpg)

**细节**
在删除用户时，我们一般不会将家目录删除。

## 查询用户信息

**基本语法**
```
id  用户名
```

  
**演示**
案例 1：请查询 root      信息
![](attachment/Pasted%20image%2020230912121758.png)
**细节说明**
当用户不存在时，返回”无此用户”

## 切换用户

**介绍**
在操作 Linux 中，如果当前用户的权限不够，可以通过 su - 指令，切换到高权限用户，比如 root

**基本语法**
```
su 切换用户名
```

**演示**
创建一个用户 zf, ，指定密码，然后切换到 zf.
![](attachment/Pasted%20image%2020230912121326.png)

**细节说明**
- 从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。
- 当需要返回到原来用户时，使用 exit 指令

## 用户组

**介绍**

类似于角色，系统可以对有共性的多个用户进行统一的管理。

### 增加组

```
groupadd 组名
```

**案例演示**
![]![](attachment/Pasted%20image%2020230912121721.png)g)

  

### 删除组
```
groupdel 组名
```

案例演示
![](attachment/Pasted%20image%2020230912121732.png)

## 配置文件
**/etc/passwd 文件**
用户（user）的配置文件，记录用户的各种信息
每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录 Shell
![](attachment/Pasted%20image%2020230912121933.png)

**/etc/shadow 文件**
口令的配置文件
每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志

**/etc/group 文件**
![](attachment/Pasted%20image%2020230912122116.png)
组(group)的配置文件，记录 Linux 包含的组的信息
每行含义：组名:口令:组标识号:组内用户列表

# 实用指令

## 指定运行级别

运行级别说明

- 0：关机
- 1：单用户【找回丢失密码】
- 2：多用户状态没有网络服务
- 3：多用户状态有网络服务
- 4：系统未使用保留给用户
- 5：图形界面
- 6：系统重启

常用运行级别是 3 和 5 ，要修改默认的运行级别可改文件

`/etc/inittab 的 id:5:initdefault`:这一行中的数字

运行级别的示意图
![](attachment/Pasted%20image%2020230912122345.png)


## 切换到指定运行级别的指令
**基本语法**
```txt
init [012356]
```

![](attachment/Pasted%20image%2020230912122636.png)

案例 1： 通过 init 来切换不同的运行级别，比如动 5->3 ， 然后关机

```txt
init    3

init    5

init    0
```

如何找回 root 密码，如果我们不小心忘记 root  密码，怎么找回。

思路： 进入到 单用户模式，然后修改 root 密码。因为进入单用户模式，root 不需要密码就可以登录。

**总结**
开机->在引导时输入 回车键-> 看到一个界面输入 e -> 看到一个新的界面，选中第二行（编辑内核）在输入 e->  在这行最后输入 1 ,再输入 回车键->再次输入 b ,这时就会进入到单用户模式。

这时，我们就进入到单用户模式，使用 passwd  指令来修改 root  密码。

## 帮助指令

**介绍**
当我们对某个指令不熟悉时，我们可以使用 Linux 提供的帮助指令来了解这个指令的使用方法。

**man 获得帮助信息**

**基本语法**

```
man [命令或配置文件]（功能描述：获得帮助信息）
```

**演示**
案例：查看 ls 命令的帮助信息
![](file:///C:/Users/Jun/AppData/Local/Temp/msohtmlclip1/01/clip_image001.jpg)

**help 指令**

```txt
help 命令 （功能描述：获得 shell 内置命令的帮助信息）
```

**演示**

案例：查看 cd 命令的帮助信息
![](file:///C:/Users/Jun/AppData/Local/Temp/msohtmlclip1/01/clip_image001.jpg)

  

